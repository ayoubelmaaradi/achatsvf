<p-tabView>
  <p-tabPanel header="List Products" leftIcon="pi pi-list">
    <p-dataView #dv [value]="products" [paginator]="true" [rows]="20" paginatorPosition="both" filterBy="name"
                [sortField]="sortField" [sortOrder]="sortOrder">
      <p-header>
        <div class="ui-helper-clearfix">
          <div class="ui-g">
            <div class="ui-g-12 ui-md-4">
              <p-dropdown [options]="sortOptions" [(ngModel)]="sortKey" placeholder="Sort By" (onChange)="onSortChange($event)" [style]="{'min-width':'140px'}"></p-dropdown>
            </div>
            <div class="ui-g-6 ui-md-4 filter-container">
              <div style="position:relative">
                <input type="search" pInputText placeholder="Search by Name" (keyup)="dv.filter($event.target.value)">
              </div>
            </div>
            <div class="ui-g-6 ui-md-4" style="text-align:right">
              <p-dataViewLayoutOptions></p-dataViewLayoutOptions>
            </div>
          </div>
        </div>
      </p-header>
      <ng-template let-car pTemplate="listItem">
        <div class="ui-g" style="padding: 2em;border-bottom: 1px solid #d9d9d9">
          <div class="ui-g-12 ui-md-3" style="text-align:center">
            <img src="assets/showcase/images/demo/car/{{car.brand}}.png">
          </div>
          <div class="ui-g-12 ui-md-8 car-details">
            <div class="ui-g">
              <div class="ui-g-2 ui-sm-6">Referance: </div>
              <div class="ui-g-10 ui-sm-6"><b> {{car.reference}} </b></div>

              <div class="ui-g-2 ui-sm-6">Name: </div>
              <div class="ui-g-10 ui-sm-6"><b>{{car.name}}</b></div>

              <div class="ui-g-2 ui-sm-6">Vendor: </div>
              <div class="ui-g-10 ui-sm-6"><b>{{car.vendor.name}}</b></div>

              <div class="ui-g-2 ui-sm-6">Price: </div>
              <div class="ui-g-10 ui-sm-6"><b>{{car.price}}</b></div>
            </div>
          </div>
          <div class="ui-g-12 ui-md-1 search-icon">
            <button pButton type="button" icon="pi pi-search" (click)=" selectProduct($event, car)"></button>
          </div>
        </div>
      </ng-template>
      <ng-template let-car pTemplate="gridItem">
        <div style="padding:.5em" class="ui-g-12 ui-md-3">
          <p-panel [header]="car.vin" [style]="{'text-align':'center'}">
            <img src="assets/showcase/images/demo/car/{{car.brand}}.png" width="60">
            <div class="car-detail">{{car.year}} - {{car.color}}</div>
            <hr class="ui-widget-content" style="border-top:0">
            <button pButton type="button" icon="pi pi-search" (click)=" selectProduct($event, car)" style="margin-top:0"></button>
          </p-panel>
        </div>
      </ng-template>
    </p-dataView>

    <p-dialog header="Product Details" [(visible)]="displayo" [responsive]="true" showEffect="fade" [modal]="true" [style]="{width: '225px'}"  (onAfterHide)="onDialogHide()">
      <div class="ui-g" *ngIf="selectedProduct">
        <div class="ui-g-4">Referance: </div>
        <div class="ui-g-8">{{selectedProduct.reference}}</div>

        <div class="ui-g-4">Name: </div>
        <div class="ui-g-8">{{selectedProduct.name}}</div>

        <div class="ui-g-4">Vendor: </div>
        <div class="ui-g-8">{{selectedProduct.vendor.name}}</div>

        <div class="ui-g-4">Price: </div>
        <div class="ui-g-8">{{selectedProduct.price}}</div>
      </div>
    </p-dialog>
  </p-tabPanel>
  <p-tabPanel header="create" leftIcon="pi pi-plus">
    <ng-template pTemplate="content">
      <div class="row">
        <div class="col-md-6">
          <div class="card-header">
            <h3 class="card-title">New Product</h3>
          </div>
          <div class="card-body">
            <label for="reference">reference :</label>
            <input class="form-control" name="reference" type="text" id="reference" [(ngModel)]="product.reference">
            <label for="name">name :</label>
            <input class="form-control" name="name" type="text" id="name" [(ngModel)]="product.name">
            <label for="design">Price :</label>
            <input class="form-control" name="design" type="text" id="design" [(ngModel)]="product.price">
            <label for="unitemesure">Unite mesure :</label>
            <select class="form-control"  name="unitemesure" id="unitemesure" [(ngModel)]="product.unitemesure">
              <option value="Piece">Unit(s)</option>
              <option value="m">m</option>
              <option value="L">L</option>
              <option value="Kg">Kg</option>
            </select><br>
            <label>Vendor : </label>
            <div class="row">
              <div class="col-md-6">
                <button type="button" (click)="showDialog()" pButton icon="pi pi-plus" label="Add Vendor"></button>
              </div>
              <h5>{{product.vendor.name}}</h5>
            </div>
            <div class="row">
              <div class="update ml-auto mr-auto" align="right">
                <p-toast position="center"></p-toast>
                <button class="btn btn-success" label="Success" (click)="addProduct()">Add Product</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </ng-template>  </p-tabPanel>
  <p-tabPanel header="Godfather III" leftIcon="pi pi-user" rightIcon="pi pi-star">
    After a break of more than  15 years, director Francis Ford Coppola and writer Mario Puzo returned to the well for this third and final story of the fictional Corleone crime family. Two decades have passed, and crime kingpin Michael Corleone, now divorced from his wife Kay has nearly succeeded in keeping his promise that his family would one day be completely legitimate.
  </p-tabPanel>
</p-tabView>


<p-dialog header="" [(visible)]="display" [modal]="true" [responsive]="true" [style]="{width: '900px', minWidth: '600px'}" [minY]="70"
          [maximizable]="true" [baseZIndex]="10000">
  <p-orderList [value]="vendors" [listStyle]="{'height':'250px'}" header="Vendors"
               filter="filter" filterBy="name" filterPlaceholder="Filter by name" dragdrop="true" (onSelectionChange)= "onSelectionChange($event)">
    <ng-template let-car pTemplate="item">
      <div class="ui-helper-clearfix">
        <div style="font-size:14px;float:right;margin:15px 5px 0 0"> <b>Mobile</b>: {{car.mobile}} - <b>Fax</b>: {{car.fax}} - <b>Name</b>: {{car.name}} - <b>website</b>: {{car.website}}</div>
      </div>
    </ng-template>
  </p-orderList>
  <p-footer>
    <button type="button" pButton icon="pi pi-check" (click)="display=false" label="Yes"></button>
    <button type="button" pButton icon="pi pi-close" (click)="display=false" label="No" class="ui-button-secondary"></button>
  </p-footer>
</p-dialog>



